<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Configuration utility for Expert Sleepers FH-2">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIDI Utils</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <heading>
        <span>OSCelot</span>
        <span class="midi"></span><small id="transport">‚èµ</small>
    </heading>
    <div class="tab_bar">
        <span data-tbl="global_table">About</span>
        <span data-tbl="mcv_table">Events</span>
        <span>Connections</span>
        <span class="selected">Gallery</span>
    </div>
        <script type="module">
            import {tabs, tblDefs, setTblDef} from './src/utils.mjs';
            import {scopeInit} from './src/cvGen.mjs';
            import * as MIDI from './src/midi.mjs';
           const urlParam = new URLSearchParams(document.location.search);
           tabs();

            //scopeInit();
            //addTable(mcv_table);
            // addTable(mcv_table);
            const midiDeviceName = urlParam.get("device") || "Circuit Tracks";
            const MIDIoptions = {
                error_element: document.querySelector("heading>.midi"),
                transport_element: document.querySelector("#transport"),
                device_name: decodeURI(midiDeviceName),
                ppq:24,
                pcnt:0,
                tempo:undefined
            };
            MIDI.init(MIDIoptions);
        </script>
</body>

</html>